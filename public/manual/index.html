<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><meta name=author content="Raoul van Rüschen"><meta name=generator content="Hugo 0.101.0"><title>Introduction &#183; Post Processing Manual</title><base href=//pp.pmnd.rs><link rel="shortcut icon" href=/favicon.ico type=image/x-icon><script>document.documentElement.classList[localStorage.getItem("dark-mode")?"add":"remove"]("dark")</script><link rel=stylesheet href=/css/dist/index.6f19857fb96a023ccd68f0610037a4a44e671f0df0a034c8b4dd1660e89e9794.css integrity="sha256-bxmFf7lqAjzNaPBhADekpE5nHw3woDTItN0WYOiel5Q="><script defer src=/js/dist/index.0d16e3b29494929f84d7e658c907d97fc07bccf85b69b8708b0fd7fe96f29784.js integrity="sha256-DRbjspSUkp+E1+ZYyQfZf8B7zPhbabhwiw/X/pbyl4Q="></script>
<script defer src=/js/dist/libs/three.7bae22ea5a68bc81f149f7b849ae6743c730ebb6ed2247db37ac25522c694451.js integrity="sha256-e64i6lpovIHxSfe4Sa5nQ8cw67btIkfbN6wlUixpRFE="></script></head><body class="preload home"><div class=frame-content><div><a class=skip-main href=#main>Skip to content</a><div class=sidebar-button-open aria-label="Open navigation menu"></div><div class=sidebar><header class=page-header><h1 class=page-title><a href=/>Post Processing Manual</a></h1><div class=sidebar-button-close aria-label="Close navigation menu"></div></header><nav class=navigation><h2 class=main>Start</h2><ul class=menu><li class=active><a href=/><span>Introduction</span></a></li><li class=getting-started><a href=/getting-started/><span>Getting Started</span></a></li><li class=custom-effects><a href=/custom-effects/><span>Custom Effects</span></a></li><li class=migration-guide><a href=/migration-guide/><span>Migration Guide</span></a></li><li><a href=../docs/ target=_blank><span>API Reference</span></a></li></ul><h2 class=community>Community</h2><ul class=menu><li class=plugins-tools><a href=/plugins-tools/><span>Plugins and Tools</span></a></li><li><a href=https://github.com/pmndrs/postprocessing/issues target=_blank><span>Issue Tracker</span></a></li><li><a href=https://discord.com/invite/poimandres target=_blank><span>Discord</span></a></li><li><a href=https://github.com/pmndrs/postprocessing/discussions target=_blank><span>Forum</span></a></li></ul><h2 class=demos>Demos</h2><ul class=menu><li class=anti-aliasing><h3>Anti-Aliasing</h3><ul class=sub-menu><li class=msaa><a href=/demos/anti-aliasing/msaa/><span>MSAA</span></a></li><li class=smaa><a href=/demos/anti-aliasing/smaa/><span>SMAA</span></a></li><li class=fxaa><a href=/demos/anti-aliasing/fxaa/><span>FXAA</span></a></li></ul></li><li class=color-grading><h3>Color Grading</h3><ul class=sub-menu><li class=brightness-contrast><a href=/demos/color-grading/brightness-contrast/><span>Brightness and Contrast</span></a></li><li class=hue-saturation><a href=/demos/color-grading/hue-saturation/><span>Hue and Saturation</span></a></li><li class=lut><a href=/demos/color-grading/lut/><span>LUT</span></a></li><li class=sepia><a href=/demos/color-grading/sepia/><span>Sepia</span></a></li><li class=tone-mapping><a href=/demos/color-grading/tone-mapping/><span>Tone Mapping</span></a></li></ul></li><li class=special-effects><h3>Special Effects</h3><ul class=sub-menu><li class=chromatic-aberration><a href=/demos/special-effects/chromatic-aberration/><span>Chromatic Aberration</span></a></li><li class=color-depth><a href=/demos/special-effects/color-depth/><span>Color Depth</span></a></li><li class=depth-of-field><a href=/demos/special-effects/depth-of-field/><span>Depth of Field</span></a></li><li class=dot-screen><a href=/demos/special-effects/dot-screen/><span>Dot Screen</span></a></li><li class=glitch><a href=/demos/special-effects/glitch/><span>Glitch</span></a></li><li class=grid><a href=/demos/special-effects/grid/><span>Grid</span></a></li><li class=pixelation><a href=/demos/special-effects/pixelation/><span>Pixelation</span></a></li><li class=scanlines><a href=/demos/special-effects/scanlines/><span>Scanlines</span></a></li><li class=vignette><a href=/demos/special-effects/vignette/><span>Vignette</span></a></li></ul></li><li class=light-shadow><h3>Light & Shadow</h3><ul class=sub-menu><li class=bloom><a href=/demos/light-shadow/bloom/><span>Bloom</span></a></li><li class=god-rays><a href=/demos/light-shadow/god-rays/><span>God Rays</span></a></li><li class=ssao><a href=/demos/light-shadow/ssao/><span>SSAO</span></a></li></ul></li><li class=utility><h3>Utility</h3><ul class=sub-menu><li class=blur><a href=/demos/utility/blur/><span>Blur</span></a></li><li class=depth-picking><a href=/demos/utility/depth-picking/><span>Depth Picking</span></a></li><li class=outline><a href=/demos/utility/outline/><span>Outline</span></a></li><li class=texture><a href=/demos/utility/texture/><span>Texture</span></a></li></ul></li></ul></nav><footer class=page-footer><div class=contentinfo><ul class=menu><li class=legal><a href=/legal/><span>Legal</span></a></li><li class=privacy><a href=/privacy/><span>Privacy Policy</span></a></li></ul></div><div class=icons><div class=dark-mode title="Dark mode"></div><a href=https://github.com/pmndrs/postprocessing target=_blank><div class=repository title=Repository></div></a><a href=https://www.patreon.com/vanruesc target=_blank><div class=support title=Support></div></a></div></footer></div><main id=main tabindex=-1><div class=content><div><h1 id=introduction>Introduction <a href=/#introduction>¶</a></h1><p><a href=https://github.com/pmndrs/postprocessing/actions/workflows/ci.yml><img src=https://github.com/pmndrs/postprocessing/actions/workflows/ci.yml/badge.svg alt=CI></a>
<a href=https://www.npmjs.com/package/postprocessing><img src=https://badgen.net/npm/v/postprocessing alt=Version></a>
<a href=https://github.com/pmndrs/postprocessing/blob/main/LICENSE.md><img src=https://badgen.net/github/license/pmndrs/postprocessing alt=License></a></p><p>Welcome to the postprocessing manual!</p><h2 id=motivation>Motivation <a href=/#motivation>¶</a></h2><p>The purpose of the postprocessing library is to provide a package of advanced, well maintained and fully documented filter effects for the popular 3D library <a href=https://threejs.org/>three.js</a>. It was originally created based on the <a href="https://threejs.org/examples/?q=postprocessing">three.js examples</a> in the context of a university research project in 2015 and continues to evolve as a free, open-source library.</p><h2 id=compatibility-policy>Compatibility Policy <a href=/#compatibility-policy>¶</a></h2><p>Postprocessing aims to support the six most recent releases of three. Older releases may still work but are not officially supported. The release schedule of this library is not strictly tied to three, meaning that official support for the latest release can lag behind by a few days. Releases follow <a href=https://semver.org/>semantic versioning</a>.</p><p><em>Please note that this library is not compatible with the postprocessing examples from three due to API differences.</em></p><h2 id=concepts>Concepts <a href=/#concepts>¶</a></h2><p>WIP</p><h2 id=color-space-considerations>Color Space Considerations <a href=/#color-space-considerations>¶</a></h2><p>New applications should follow a <a href=https://docs.unity3d.com/Manual/LinearRendering-LinearOrGammaWorkflow.html>linear workflow</a> for color management and postprocessing supports this automatically. Simply set <code>WebGLRenderer.canvasColorSpace</code> to <code>SRGBColorSpace</code> and postprocessing will follow suit. Built-in passes automatically encode colors when they render to screen and internal render operations are always performed in the most appropriate color space.</p><p>Postprocessing uses <code>UnsignedByteType</code> sRGB frame buffers to store intermediate results due to good hardware support and resource efficiency. This is a compromise because linear results normally require at least 12 bits per color channel to prevent <a href=https://blog.demofox.org/2018/03/10/dont-convert-srgb-u8-to-linear-u8/>color degradation and banding</a>. With low precision sRGB buffers, colors will be clamped to [0.0, 1.0] and information loss will shift to the darker spectrum which leads to noticable banding in dark scenes. Linear, high precision <code>HalfFloatType</code> buffers don&rsquo;t have these issues and are the preferred option for HDR-like workflows on desktop devices. You can enable high precision frame buffers like so:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>HalfFloatType</span> <span class=p>}</span> <span class=nx>from</span> <span class=s2>&#34;three&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>pipeline</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>RenderPipeline</span><span class=p>(</span><span class=nx>renderer</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>pipeline</span><span class=p>.</span><span class=nx>bufferManager</span><span class=p>.</span><span class=nx>frameBufferType</span> <span class=o>=</span> <span class=nx>HalfFloatType</span><span class=p>;</span>
</span></span></code></pre></div><p>See <a href=https://threejs.org/docs/#manual/en/introduction/Color-management>three&rsquo;s color management manual</a> for more information on the topic.</p><h2 id=performance>Performance <a href=/#performance>¶</a></h2><p>This library provides an <code>EffectPass</code> that implements a structured mechanism for merging fullscreen effects into a single compound shader by gathering and prefixing shader functions, varyings, uniforms, macros and individual blend functions. This minimizes the amount of render operations and makes it possible to combine many effects without the performance penalties of traditional pass chaining.</p><p>All fullscreen render operations also use a <a href=https://michaldrobot.com/2014/04/01/gcn-execution-patterns-in-full-screen-passes/>single shared triangle</a> that fills the screen. Compared to using a quad, this approach harmonizes with modern GPU rasterization patterns and eliminates unnecessary fragment calculations along the screen diagonal. This is especially beneficial for GPGPU passes and effects that use complex fragment shaders.</p></div></div></main></div></div><script>document.querySelector(".navigation").scrollTop=Number(sessionStorage.getItem("nav-scroll")),document.querySelector("main").scrollTop=Number(sessionStorage.getItem("main-scroll"))</script></body></html>